<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <title>Part II Computational Physics – numpy</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-f2546a389b66af0b6a5ea4b708d7867d.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section>
<section id="numpy-and-friends" class="title-slide slide level1 center">
<h1>NumPy and friends</h1>
<div id="b81c4b58" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li><p><a href="https://numpy.org/">NumPy</a> package is <em>the</em> key building block of the Python scientific ecosystem.</p></li>
<li><p><strong>Assume that what you want to achieve <em>can</em> be achieved in a highly optimised way within the existing framework</strong></p></li>
<li><p>Only resort to your own solution if this is not the case</p></li>
<li><p>Many resources for learning NumPy online (see links in notes)</p></li>
</ul>
</section>
<section id="preamble-objects-in-python" class="slide level2 center">
<h2>Preamble: objects in Python</h2>
<ul>
<li><p>Everything in Python is an <em>object</em></p></li>
<li><p>For example <code>[1,2,3]</code> is a <code>list</code>:</p></li>
</ul>
<div id="ee119d05" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a>my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb2-2"><a></a><span class="bu">type</span>(my_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>list</code></pre>
</div>
</div>
<ul>
<li><p>Object is container for <em>properties</em> and <em>methods</em> (functions associated with object), accessed with <code>.</code> syntax.</p></li>
<li><p>e.g.&nbsp;lists have <code>append</code> method:</p></li>
</ul>
<div id="ed312734" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a>my_list.append(<span class="st">"boop"</span>)</span>
<span id="cb4-2"><a></a>my_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>[1, 2, 3, 'boop']</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>In IPython you can see all the available methods by hitting tab:</li>
</ul>
<p><img data-src="../assets/tab-complete-slow.gif"></p>
</section>
<section class="slide level2 center">

<ul>
<li>List all of an objects properties and methods using <code>dir</code>:</li>
</ul>
<div id="a6502eaa" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="bu">print</span>(<span class="bu">dir</span>(my_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['__add__', '__class__', '__class_getitem__', '__contains__', '__delattr__', '__delitem__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getstate__', '__gt__', '__hash__', '__iadd__', '__imul__', '__init__', '__init_subclass__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', 'append', 'clear', 'copy', 'count', 'extend', 'index', 'insert', 'pop', 'remove', 'reverse', 'sort']</code></pre>
</div>
</div>
<ul>
<li>Many are <em>dunder methods</em> (or <em>magic methods</em>, or just <em>special methods</em>), to be used by Python interpreter to implement certain standard functions</li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>e.g.&nbsp;<code>len(my_list)</code> is actually calling <code>my_list.__len__</code> which does job of actually finding length.</li>
</ul>
<div id="56b3d7cc" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a>my_list.<span class="fu">__len__</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>4</code></pre>
</div>
</div>
<ul>
<li>Example of <a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)">polymorphism</a> in object oriented programming</li>
</ul>
</section>
<section id="arrays" class="slide level2 center">
<h2>Arrays</h2>
<ul>
<li><p>Fundamental object in NumPy is <em>Array</em> (or <code>ndarray</code>), multidimensional version of a <code>list</code></p></li>
<li><p>In plain old Python a matrix would be a list of lists.</p></li>
</ul>
<div id="729d437f" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a></a>data <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>], [<span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>data[i]</code> represents each row:</li>
</ul>
<div id="897fcb37" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a>data[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>[4, 5, 6]</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>To multiply every element by a number I would do something like this:</li>
</ul>
<div id="d8ff34f9" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a><span class="cf">for</span> row <span class="kw">in</span> data:</span>
<span id="cb13-2"><a></a>    <span class="cf">for</span> j, _ <span class="kw">in</span> <span class="bu">enumerate</span>(row):</span>
<span id="cb13-3"><a></a>        row[j] <span class="op">*=</span> <span class="dv">2</span></span>
<span id="cb13-4"><a></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>[[2, 4, 6], [8, 10, 12], [14, 16, 18], [20, 22, 24]]</code></pre>
</div>
</div>
<div>
<ul>
<li class="fragment"><strong><em>Don’t do this</em></strong></li>
<li class="fragment">NumPy is made for tasks like this with <em>minimum code</em> and <em>maximum efficiency</em></li>
</ul>
</div>
</section>
<section class="slide level2 center">

<ul>
<li><p>First create data as array</p></li>
<li><p>Numerous NumPy functions produce arrays</p></li>
<li><p>Simplest is <a href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array">numpy.array</a>: takes data in “Pythonic” list-of-lists(-of-lists-of… etc.) form and produces <code>ndarray</code></p></li>
</ul>
<div id="73698956" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a></a>my_array <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>], [<span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>]])</span>
<span id="cb15-2"><a></a><span class="bu">type</span>(my_array)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>numpy.ndarray</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>Multiply array by number? Easy!</li>
</ul>
<div id="e632a9e3" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a><span class="dv">2</span> <span class="op">*</span> my_array</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>array([[ 2,  4,  6],
       [ 8, 10, 12],
       [14, 16, 18],
       [20, 22, 24]])</code></pre>
</div>
</div>
<ul>
<li>It even prints nicely</li>
</ul>
<div id="c46ce998" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a></a><span class="bu">print</span>(my_array)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]
 [10 11 12]]</code></pre>
</div>
</div>
</section>
<section id="indexing" class="slide level2 center">
<h2>Indexing</h2>
<div id="4ae5d20a" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a></a>my_array</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>array([[ 1,  2,  3],
       [ 4,  5,  6],
       [ 7,  8,  9],
       [10, 11, 12]])</code></pre>
</div>
</div>
<ul>
<li>Arrays can be indexed, similar to lists</li>
</ul>
<div id="4c46d940" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a></a><span class="bu">print</span>(my_array[<span class="dv">0</span>], my_array[<span class="dv">1</span>], my_array[<span class="dv">3</span>][<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1 2 3] [4 5 6] 11</code></pre>
</div>
</div>
<ul>
<li>Better syntax for the last one</li>
</ul>
<div id="169344c5" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a></a>my_array[<span class="dv">3</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>11</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<div id="7dd5147f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a></a>my_array</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>array([[ 1,  2,  3],
       [ 4,  5,  6],
       [ 7,  8,  9],
       [10, 11, 12]])</code></pre>
</div>
</div>
<ul>
<li>Also have a generalization of the <em>slice</em> syntax</li>
</ul>
<div id="a13f702f" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a></a>my_array[<span class="dv">1</span>:, <span class="dv">1</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>array([[ 5,  6],
       [ 8,  9],
       [11, 12]])</code></pre>
</div>
</div>
<ul>
<li>Slicing can be mixed with integer indexing</li>
</ul>
<div id="362755d2" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a></a>my_array[<span class="dv">1</span>:, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>array([ 5,  8, 11])</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li><p>NumPy has all sorts of fancy indexing options</p></li>
<li><p>Indexing with integer arrays, with boolean arrays, etc.</p></li>
<li><p>See the <a href="https://numpy.org/doc/stable/user/basics.indexing.html">documentation</a></p></li>
</ul>
</section>
<section id="shape" class="slide level2 center">
<h2>Shape</h2>
<ul>
<li>A fundamental property of an array is <code>shape</code>:</li>
</ul>
<div id="6360698c" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a></a><span class="co"># [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]]</span></span>
<span id="cb33-2"><a></a>my_array.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>(4, 3)</code></pre>
</div>
</div>
<div>
<ul>
<li class="fragment"><p>First a number of <code>[</code> corresponding to the <strong>rank</strong> of the array (two in the above example)</p></li>
<li class="fragment"><p>Then number of entries giving rightmost (innermost) dimension in shape before closing <code>]</code> (3 here)</p></li>
<li class="fragment"><p>After a number of 1D arrays <code>[...]</code> equal to the next innermost dimension (4 here), we have another closing <code>]</code>, and so on</p></li>
</ul>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>Slicing does not change the array rank</li>
</ul>
<div id="e1794c17" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a></a>my_array[<span class="dv">1</span>:, <span class="dv">1</span>:].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>(3, 2)</code></pre>
</div>
</div>
<ul>
<li>Integer indexing does</li>
</ul>
<div id="7e05c253" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a></a>my_array[<span class="dv">1</span>:, <span class="dv">1</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>(3,)</code></pre>
</div>
</div>
<ul>
<li><strong>Note:</strong> <code>(3,)</code> is <em>tuple</em> giving the shape while <code>(3)</code> is just the number 3 in brackets</li>
</ul>
</section>
<section id="lots-of-methods-to-create-arrays" class="slide level2 center">
<h2>Lots of methods to create arrays</h2>
<div id="6c065f2d" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a></a>a <span class="op">=</span> np.zeros((<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb39-2"><a></a><span class="bu">print</span>(a)</span>
<span id="cb39-3"><a></a>b <span class="op">=</span> np.ones((<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb39-4"><a></a><span class="bu">print</span>(b)</span>
<span id="cb39-5"><a></a>c <span class="op">=</span> np.full((<span class="dv">2</span>,<span class="dv">2</span>), <span class="dv">5</span>)</span>
<span id="cb39-6"><a></a><span class="bu">print</span>(c)</span>
<span id="cb39-7"><a></a>d <span class="op">=</span> np.random.random((<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># random numbers uniformly in [0.0, 1.0)</span></span>
<span id="cb39-8"><a></a><span class="bu">print</span>(d)</span>
<span id="cb39-9"><a></a>eye <span class="op">=</span> np.eye(<span class="dv">2</span>) <span class="co"># Identity matrix</span></span>
<span id="cb39-10"><a></a><span class="bu">print</span>(eye)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[0. 0.]
 [0. 0.]]
[[1. 1.]
 [1. 1.]]
[[5 5]
 [5 5]]
[[0.22037473 0.16833116]
 [0.43418216 0.72637736]]
[[1. 0.]
 [0. 1.]]</code></pre>
</div>
</div>
</section>
<section id="shape-shifting" class="slide level2 center">
<h2>Shape shifting</h2>
<ul>
<li><p><a href="https://numpy.org/doc/stable/reference/generated/numpy.reshape.html#numpy-reshape">numpy.reshape</a> to change the shape of an array</p></li>
<li><p><a href="https://numpy.org/doc/stable/reference/generated/numpy.expand_dims.html">numpy.expand_dims</a> to insert new axes of length one.</p></li>
<li><p><a href="https://numpy.org/doc/stable/reference/generated/numpy.squeeze.html#numpy.squeeze">numpy.squeeze</a> (the opposite) to remove new axes of length one.</p></li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>Example of <code>reshape</code></li>
</ul>
<div id="f6acb1ef" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a></a>my_array.reshape(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>array([[[ 1,  2,  3],
        [ 4,  5,  6]],

       [[ 7,  8,  9],
        [10, 11, 12]]])</code></pre>
</div>
</div>
<ul>
<li><p>Only works if the shapes are compatible. Here it’s OK because the original shape was <span class="math inline">\((4,3)\)</span> and <span class="math inline">\(4\times 3 = 2\times 2\times 3\)</span></p></li>
<li><p>If shapes aren’t compatible, we’ll get an error</p></li>
</ul>
<div id="d1c5c4c8" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a></a>my_array.reshape(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[23], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> my_array<span style="color:rgb(98,98,98)">.</span>reshape(<span style="color:rgb(98,98,98)">2</span>, <span style="color:rgb(98,98,98)">3</span>, <span style="color:rgb(98,98,98)">3</span>)

<span class="ansi-red-fg">ValueError</span>: cannot reshape array of size 12 into shape (2,3,3)</pre>
</div>
</div>
</div>
</section>
<section id="dtype" class="slide level2 center">
<h2><code>dtype</code></h2>
<ul>
<li><p>Arrays have <code>dtype</code> property that gives datatype</p></li>
<li><p>If array was created from data, this will be inferred</p></li>
</ul>
<div id="9cdddbb3" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a></a>my_array.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>dtype('int64')</code></pre>
</div>
</div>
<ul>
<li>Functions constructing arrays have optional <code>dtype</code></li>
</ul>
<div id="446d46dc" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a></a>my_float_array <span class="op">=</span> np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], dtype<span class="op">=</span>np.float64)</span>
<span id="cb46-2"><a></a>my_float_array.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>dtype('float64')</code></pre>
</div>
</div>
<ul>
<li>Importantly, complex numbers are supported</li>
</ul>
<div id="5afb9f63" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a></a>my_float_array <span class="op">=</span> np.array([<span class="fl">1.1</span> <span class="op">+</span> <span class="ot">2.3j</span>,<span class="fl">2.2</span>,<span class="fl">3.6</span>])</span>
<span id="cb48-2"><a></a>my_float_array.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>dtype('complex128')</code></pre>
</div>
</div>
</section>
<section id="examples-of-array-like-data" class="slide level2 center">
<h2>Examples of array-like data</h2>
<ul>
<li><p>Position, velocity, or acceleration of particle will be three dimensional vectors, so have shape <code>(3,)</code></p></li>
<li><p>With <span class="math inline">\(N\)</span> particles could use a <span class="math inline">\(3N\)</span> dimensional vector</p></li>
<li><p>Better: an array of shape <code>(N,3)</code>. First index indexes particle number and second particle coordinate.</p></li>
<li><p><span class="math inline">\(N\times M\)</span> matrix has shape <code>(N,M)</code></p></li>
<li><p>Riemann curvature tensor in General Relativity <span class="math inline">\(R_{abcd}\)</span> has shape <code>(4,4,4,4)</code></p></li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li><p><em>Fields</em> are functions of space and time e.g.&nbsp;the electric potential <span class="math inline">\(\phi(\mathbf{r},t)\)</span></p></li>
<li><p>Approximate these using a grid of space-time points <span class="math inline">\(N_x\times N_y \times N_z\times N_t\)</span></p></li>
<li><p>Scalar field can be stored in an array of shape <code>(N_x,N_y,N_z,N_t)</code></p></li>
<li><p>A vector field like <span class="math inline">\(\mathbf{E}(\mathbf{r},t)\)</span> would be <code>(N_x,N_y,N_z,N_t,3)</code></p></li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>Very useful method to create a grid of coordinate values</li>
</ul>
<div id="96d7006d" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a></a><span class="co"># Grid of x, y points</span></span>
<span id="cb50-2"><a></a>nx, ny <span class="op">=</span> <span class="dv">64</span>, <span class="dv">64</span></span>
<span id="cb50-3"><a></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>, nx)</span>
<span id="cb50-4"><a></a>y <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>, ny)</span>
<span id="cb50-5"><a></a>X, Y <span class="op">=</span> np.meshgrid(x, y)</span>
<span id="cb50-6"><a></a>X.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>(64, 64)</code></pre>
</div>
</div>
<div id="0224cc04" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="numpy_files/figure-revealjs/cell-29-output-1.png" width="460" height="434"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mathematical-operations-with-arrays" class="slide level2 center">
<h2>Mathematical operations with arrays</h2>
<ul>
<li>On lists</li>
</ul>
<div id="8302fc65" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a></a><span class="dv">2</span> <span class="op">*</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>[1, 2, 3, 1, 2, 3]</code></pre>
</div>
</div>
<ul>
<li>In numerical applications what we really want is</li>
</ul>
<div id="0cb7b4b5" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a></a><span class="dv">2</span> <span class="op">*</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>array([2, 4, 6])</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>General feature of NumPy: <strong>all mathematical operations are performed elementwise on arrays!</strong></li>
</ul>
<div id="b4596134" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a></a><span class="bu">print</span>(np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]) <span class="op">+</span> np.array([<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]))</span>
<span id="cb56-2"><a></a><span class="bu">print</span>(np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb56-3"><a></a><span class="bu">print</span>(np.sqrt(np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5 7 9]
[1 4 9]
[1.         1.41421356 1.73205081]</code></pre>
</div>
</div>
<ul>
<li><p>Avoids need to write nested loops</p></li>
<li><p>Loops are still there, but written in C</p></li>
<li><p>This style of code is often described as <em>vectorized</em></p></li>
<li><p>In NumPy-speak vectorized functions are called <em>ufuncs</em></p></li>
<li><p>As a basic principle <strong>never use a Python loop to access your data in NumPy code</strong></p></li>
</ul>
</section>
<section id="broadcasting" class="slide level2 center">
<h2>Broadcasting…</h2>
<ul>
<li>…is a powerful protocol for combining arrays of different shapes, generalizing this kind of thing</li>
</ul>
<div id="1d15226a" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a></a>np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]) <span class="op">+</span> <span class="fl">2.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>array([3.3, 4.3, 5.3])</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>Elementwise operations performed on two arrays of same rank if in each index sizes <em>either match or one array has size 1</em></li>
</ul>
<div id="543b6eea" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a></a><span class="co"># These have shape (2, 3) and (1, 3)</span></span>
<span id="cb60-2"><a></a>np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]]) <span class="op">+</span> np.array([[<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>array([[5, 5, 5],
       [8, 8, 8]])</code></pre>
</div>
</div>
<ul>
<li>We can simplify this last example</li>
</ul>
<div id="381c2d93" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a></a><span class="co"># These have shape (2, 3) and (3,)</span></span>
<span id="cb62-2"><a></a>np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]]) <span class="op">+</span> np.array([<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>array([[5, 5, 5],
       [8, 8, 8]])</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li><p>Recall example of an <span class="math inline">\(N\)</span>-particle system described by a position array of shape <code>(N,3)</code></p></li>
<li><p>If we want to shift the entire system by a vector, just add a vector of shape <code>(3,)</code> and broadcasting will ensure that this applied correctly to each particle.</p></li>
</ul>
</section>
<section class="slide level2 center">

<p>Broadcasting two arrays follows these rules:</p>
<ol type="1">
<li>If arrays do not have same rank, prepend shape of lower rank array with 1s until both shapes have same length</li>
</ol>
</section>
<section class="slide level2 center">

<ol start="2" type="1">
<li>Two arrays are said to be <em>compatible</em> in a dimension if they have same size in that dimension, or if one of the arrays has size 1 in that dimension</li>
</ol>
</section>
<section class="slide level2 center">

<ol start="3" type="1">
<li>Arrays can be broadcast together if they are compatible in all dimensions. After broadcasting, each array behaves as if it had shape equal to the elementwise maximum of shapes of the two input arrays</li>
</ol>
</section>
<section class="slide level2 center">

<ol start="4" type="1">
<li>In any dimension where one array had size 1 and the other array had size greater than 1, the first array behaves as if it were copied along that dimension</li>
</ol>
<div>
<ul>
<li class="fragment"><p><a href="https://numpy.org/doc/stable/user/basics.broadcasting.html">The documentation</a> has more detail</p></li>
<li class="fragment"><p>Broadcasting takes some time to get used to but is immensely powerful!</p></li>
</ul>
</div>
</section>
<section id="plotting-with-matplotlib" class="slide level2 center">
<h2>Plotting with Matplotlib</h2>
<ul>
<li><p>Various specialized Python plotting libraries</p></li>
<li><p>“entry-level” option is <a href="https://matplotlib.org/">Matplotlib</a></p></li>
<li><p><code>pyplot</code> module provides a plotting system that is similar to MATLAB (I’m told)</p></li>
</ul>
<div id="1c4a1d55" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Probably the second most common import you will make!</li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>Here’s a simple example of <code>plot</code> function</li>
</ul>
<div id="eab1cb48" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a></a><span class="co"># Compute the x and y coordinates for points on a sine curve</span></span>
<span id="cb65-2"><a></a>x <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">3</span> <span class="op">*</span> np.pi, <span class="fl">0.1</span>)</span>
<span id="cb65-3"><a></a>y <span class="op">=</span> np.sin(x)</span>
<span id="cb65-4"><a></a></span>
<span id="cb65-5"><a></a><span class="co"># Plot the points using matplotlib</span></span>
<span id="cb65-6"><a></a>plt.plot(x, y)</span>
<span id="cb65-7"><a></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="numpy_files/figure-revealjs/cell-37-output-1.png" width="813" height="411"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>Note</strong>: you must call plt.show() to make graphics appear</li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>Fancier example with some labelling</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a></a><span class="co"># Compute the x and y coordinates for points on sine and cosine curves</span></span>
<span id="cb66-2"><a></a>x <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">3</span> <span class="op">*</span> np.pi, <span class="fl">0.1</span>)</span>
<span id="cb66-3"><a></a>y_sin <span class="op">=</span> np.sin(x)</span>
<span id="cb66-4"><a></a>y_cos <span class="op">=</span> np.cos(x)</span>
<span id="cb66-5"><a></a></span>
<span id="cb66-6"><a></a><span class="co"># Plot the points using matplotlib</span></span>
<span id="cb66-7"><a></a>plt.plot(x, y_sin)</span>
<span id="cb66-8"><a></a>plt.plot(x, y_cos)</span>
<span id="cb66-9"><a></a>plt.xlabel(<span class="st">'x axis label'</span>)</span>
<span id="cb66-10"><a></a>plt.ylabel(<span class="st">'y axis label'</span>)</span>
<span id="cb66-11"><a></a>plt.title(<span class="st">'Sine and Cosine'</span>)</span>
<span id="cb66-12"><a></a>plt.legend([<span class="st">'Sine'</span>, <span class="st">'Cosine'</span>])</span>
<span id="cb66-13"><a></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2 center">

<div id="fe87a4bd" class="cell" data-execution_count="37">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="numpy_files/figure-revealjs/cell-38-output-1.png" width="832" height="449"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2 center">

<ul>
<li>Often you’ll want to make several related plots and present them together</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb67-2"><a></a></span>
<span id="cb67-3"><a></a><span class="co"># Compute the x and y coordinates for points on sine and cosine curves</span></span>
<span id="cb67-4"><a></a>x <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">3</span> <span class="op">*</span> np.pi, <span class="fl">0.1</span>)</span>
<span id="cb67-5"><a></a>y_sin <span class="op">=</span> np.sin(x)</span>
<span id="cb67-6"><a></a>y_cos <span class="op">=</span> np.cos(x)</span>
<span id="cb67-7"><a></a></span>
<span id="cb67-8"><a></a><span class="co"># Set up a subplot grid that has height 2 and width 1,</span></span>
<span id="cb67-9"><a></a><span class="co"># and set the first such subplot as active.</span></span>
<span id="cb67-10"><a></a>plt.subplot(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb67-11"><a></a></span>
<span id="cb67-12"><a></a><span class="co"># Make the first plot</span></span>
<span id="cb67-13"><a></a>plt.plot(x, y_sin)</span>
<span id="cb67-14"><a></a>plt.title(<span class="st">'Sine'</span>)</span>
<span id="cb67-15"><a></a></span>
<span id="cb67-16"><a></a><span class="co"># Set the second subplot as active, and make the second plot.</span></span>
<span id="cb67-17"><a></a>plt.subplot(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb67-18"><a></a>plt.plot(x, y_cos)</span>
<span id="cb67-19"><a></a>plt.title(<span class="st">'Cosine'</span>)</span>
<span id="cb67-20"><a></a></span>
<span id="cb67-21"><a></a><span class="co"># Show the figure.</span></span>
<span id="cb67-22"><a></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2 center">

<div id="a1072caa" class="cell" data-execution_count="38">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="numpy_files/figure-revealjs/cell-39-output-1.png" width="805" height="431"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="example-playing-with-images" class="slide level2 center">
<h2>Example: playing with images</h2>
<ul>
<li><p>Pixels in an image encoded as a triple of RGB values in the range [0,255] i.e.&nbsp;8 bits of type <code>uint8</code> (the “u” is for “unsigned”)</p></li>
<li><p>Tinting an image gives a nice example of broadcasting</p></li>
</ul>
</section>
<section class="slide level2 center">

<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a></a>img <span class="op">=</span> plt.imread(<span class="st">'../assets/lucian.jpeg'</span>)</span>
<span id="cb68-2"><a></a></span>
<span id="cb68-3"><a></a>img_tinted <span class="op">=</span> img <span class="op">*</span> [<span class="dv">1</span>, <span class="fl">0.55</span>, <span class="dv">1</span>]</span>
<span id="cb68-4"><a></a></span>
<span id="cb68-5"><a></a><span class="co"># Show the original image</span></span>
<span id="cb68-6"><a></a>plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb68-7"><a></a>plt.imshow(img)</span>
<span id="cb68-8"><a></a>plt.title(<span class="st">"Lucian"</span>)</span>
<span id="cb68-9"><a></a></span>
<span id="cb68-10"><a></a><span class="co"># Show the tinted image</span></span>
<span id="cb68-11"><a></a>plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb68-12"><a></a>plt.title(<span class="st">"Pink Panther"</span>)</span>
<span id="cb68-13"><a></a><span class="co"># Having multiplied by floats, </span></span>
<span id="cb68-14"><a></a><span class="co"># we must cast the image to uint8 before displaying it.</span></span>
<span id="cb68-15"><a></a>plt.imshow(np.uint8(img_tinted))</span>
<span id="cb68-16"><a></a></span>
<span id="cb68-17"><a></a>plt.show()</span>
<span id="cb68-18"><a></a>img.shape, img.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2 center">

<div id="242704f9" class="cell" data-execution_count="39">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="numpy_files/figure-revealjs/cell-40-output-1.png" width="760" height="431"></p>
</figure>
</div>
</div>
</div>
<p>This is a standard 12 megapixel image</p>
</section>
<section id="saving-and-loading-data" class="slide level2 center">
<h2>Saving and loading data</h2>
<ul>
<li><p>At some point you’ll probably want to save and load data</p></li>
<li><p>NumPy comes with its own <a href="https://numpy.org/doc/stable/reference/generated/numpy.save.html">save</a> and <a href="https://numpy.org/doc/stable/reference/generated/numpy.load.html">load</a> functions and associated binary format <code>.npy</code></p></li>
<li><p>The benefit of using these is that after loading you get back a NumPy array ready to be used</p></li>
</ul>
</section>
<section class="slide level2 center">

<ul>
<li>A related function <a href="https://numpy.org/doc/stable/reference/generated/numpy.savez.html">savez</a> allows several arrays to be saved and then loaded as a dictionary-like object.</li>
</ul>
<div id="01aea8c9" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a></a>random_matrix_1 <span class="op">=</span> np.random.rand(<span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb69-2"><a></a>random_matrix_2 <span class="op">=</span> np.random.rand(<span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb69-3"><a></a>np.savez(<span class="st">"../assets/my-matrices"</span>, first_matrix<span class="op">=</span>random_matrix_1, second_matrix<span class="op">=</span>random_matrix_2)</span>
<span id="cb69-4"><a></a><span class="op">%</span>ls ..<span class="op">/</span>assets</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>FFT-butterfly.png
Hidden-Figures-scene_Katherine-Johnson-calculates-orbital-insertion-trajectories_Credit_TM-and-C-2017-Twentieth-Century-Fox-Film-Corporation_All-rights-reserved.webp
Random_walk_25000.svg
contractions.png
dog-or-food.png
feedback-qr.png
fibonacci.png
gaussian-barrier.mp4
h-chain.png
hard-spheres.png
ia-question.png
ising.js
ising.py
ligo-residuals.png
ligo-stages.png
ligo-window.png
loss-landscape.png
lucian.jpeg
metropolis.png
my-matrices.npz
nielsen-nn.png
nielsen-single-neuron.png
overfitting.png
page.jpeg
simulation.jpg
tab-complete-slow.gif
tab-complete.gif
tab-complete.png
tensor-pics.png</code></pre>
</div>
</div>
</section>
<section class="slide level2 center">

<div id="d79a430f" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a></a>my_matrix_file <span class="op">=</span> np.load(<span class="st">"../assets/my-matrices.npz"</span>)</span>
<span id="cb71-2"><a></a>my_matrix_file[<span class="st">'first_matrix'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>array([[0.57649537, 0.52938493, 0.37082601, 0.49352407],
       [0.5076231 , 0.77127555, 0.31984916, 0.47745315],
       [0.15228328, 0.59332849, 0.53890375, 0.23319113],
       [0.63145214, 0.54237288, 0.5844283 , 0.38972533]])</code></pre>
</div>
</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/computational-physics\.tripos\.org");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>